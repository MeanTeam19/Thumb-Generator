extends ../shared/layout

block main-content
    .container.margin-top-fix
        .row
            form.col-xs-12.col-sm-8.col-sm-offset-2.col-md-6.col-md-offset-3.col-lg-4.col-lg-offset-4(name="register" method="post" action ="/register" ng-app="ThumbGenerator" ng-cloak ng-controller="UsersController as vm")
                .form-group
                    label(for="first-name") First name
                    input(id="first-name" class="form-control" type="text" name="firstName" placeholder="First name" ng-model="vm.user.firstName" required="required")
                    .text-danger(ng-show="register.firstName.$touched && vm.isFirstNameLessThan(2)") The name must be at least 2 symbols.
                .form-group
                    label(for="last-name") Last name
                    input(id="last-name" class="form-control" type="text" name="lastName" placeholder="Last name" ng-model="vm.user.lastName" required="required")
                    .text-danger(ng-show="register.lastName.$touched && vm.isLastNameLessThan(2)") The name must be at least 2 symbols.
                .form-group
                    label(for="email") Email
                    input(id="email" class="form-control" type="email" name="email" placeholder="Email" ng-model="vm.user.email" required="required")
                    .text-danger(ng-show="register.email.$touched && register.email.$invalid") Please, enter a valid email!
                .form-group
                    label(for="username") Username
                    input(id="username" class="form-control" type="text" name="username" placeholder="Username" ng-model="vm.user.username" required="required")
                    .text-danger(ng-show="register.username.$touched && vm.isUsernameLessThan(2)") Username must be at least 2 symbols.
                .form-group
                    label(for="password") Password
                    input(id="password" class="form-control" type="password" name="password" placeholder="Password" ng-model="vm.user.password" required="required")
                    .text-danger(ng-show="register.password.$touched && vm.isPasswordLessThan(2)") Password must be at least 2 symbols.
                .form-group
                    label(for="confirm-password") Confirm Password
                    input(id="confirm-password" class="form-control" type="password" name="confirmPassword" placeholder="Confirm password" ng-model="vm.user.confirmPassword" required="required")
                    .text-danger(ng-show="register.confirmPassword.$touched && !vm.doPasswordsMatch()") Passwords do not match!
                .form-group
                    input(type="submit" class="btn btn-lg" value="Register" ng-disabled="!vm.isRegistrationFormValid(2)")
        if (errorMessage)
            .row
                .col-xs-12.col-sm-8.col-sm-offset-2.col-md-6.col-md-offset-3.col-lg-4.col-lg-offset-4.alert.alert-danger #{errorMessage}
    script(src="js/controllers/users-controller.js")